\label{adaptive_cooperation}

\subsection{Simulation \& Evaluation of Solutions}
All systems in this survey, which use a metaheuristic search, employ a simulator for evaluating solutions in the objective function. Simulations are also widely used to test the final output of some optimization procedure in order to compare the new approach to some other, well-known approaches. 

In the latter case the quality of the simulation is more important than execution speed. In adaptive search procedures, which depend on simulation for calculation of the objective value the simulation must be fast and, of course, still give a realistic result. 

There are three types of simulators, the main difference being the level of detail in the underlying model. They are micro-, meso- and macrosimulators. Microsimulators model the behaviour of each vehicle and driver, mesosimulators regard the movements of platoons of vehicles and macrosimulators search for a user equilibrium (see section \ref{usereq}), considering origins and destinations.

Independent on the detail level of the model a simulation must run until it is converged before the objective value can be extracted. 

Park et al. \cite{4} show that the CORSIM microsimulator is superior to the mesoscopic simulator from the TRANSYT package when combined with a genetic algorithm. But microsimulation is also slower to converge than the other types and thus evaluation of a solution will take longer. In a comparison study \cite{simcompare} Holst estimates the required simulation type as in table \ref{tab:convergespeed}.

\begin{table}[!h]
\begin{center}
\begin{tabular}{c|c|c}
\textbf{VisSim} & \textbf{Dynameq} & \textbf{Time Slice Assistant} \\
\textit{(micro)} & \textit{(meso)} & \textit{(macro)} \\ \hline
1000 & 100 & 1
\end{tabular}
\end{center}
\label{tab:convergespeed}
\caption{Estimate of of relative required simulation time for convergence}
\end{table}

Microsimulation will not scale as well as meso- and macrosimulation since the number of vehicles in the network will grow in proportion with the total length of the roads whereas. In mesosimulators the number of platoons need not grow as fast since the could be along an artery and the same platoon is regarded or the headway threshold could be increased to compensate for the extra cars. Macrosimulators will scale in proportion with the size of the OD-matrices. 
Meso- and macro simulators, using deterministic principles, have another advantage since they can execute heuristic procedures to skip past much of the initial population of roads, which is mandatory in microsimulation when traffic begins to flow into the empty network.

For these reasons many of the surveyed articles use the mesosimulator of the TRANSYT optimization package. Some examples are \cite{26} which presents an improved metaheuristic search compared to the one which is built into TRANSYT-7F. In \cite{43} TRANSYT is extended so that there is no requirement of a common cycle time. The new model is used as a framework for testing adaptive systems with the TRANSYT simulator as a testbench.
In the last example Chiou \cite{34} generates solutions using a numerical search and tests them using TRANSYT.

Other researchers implement simple, but fast, microsimulators, for instance \cite{12} and \cite{42}. They are tightly coupled to the test network and their reliability is questionable.

In \cite{31} Taale and van Zuylen use a macroscopic simulator for evaluation solutions from their genetic algorithm, but recommend the use of a microsimulator for evaluation of the final solution. In spite of the macrosimulator they observe running times in excess of one hour for very small networks on current hardware. (This might also be due to poor tuning of the GA, but they do not mention this possibility.)

For microsimulations most often CORSIM is used eg.  \cite{1} and \cite{35}. Perhaps this is due to the fact that CORSIM is made by the same company, which sells TRANSYT - McTrans. A single use an alternative microsimulater, Paramics Quadstone, is seen in article \cite{21}.

The information that can be extracted from the simulators are plentyful for the purpose of comparing solutions to signal settings (delay, travel time, stops, queue lenghts). The articles presenting simulation results of seem to prefer microsimulations.